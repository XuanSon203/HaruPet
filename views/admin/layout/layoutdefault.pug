doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Trang quản trị 
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css", integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT", crossorigin="anonymous")
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css")
    link(rel="stylesheet", href="/css/style.css")

  body
    if role && role.permissions.length > 0
      // Header
      include ../partial/header.pug

      // Wrapper: Sidebar + Main content
      .container-fluid
        .row
          // Sidebar
          aside.col-md-3.col-lg-2.bg-light.border-end.min-vh-100.p-3
            h5.mb-4.text-primary Quản lý hệ thống
            ul.nav.flex-column
              li.nav-item
                a.nav-link(href="/admin") 
                  i.bi.bi-house-door-fill.me-2 
                  | Trang chủ
              li.nav-item
                a.nav-link(href="/admin/pets")
                  i.bi.bi-collection.me-2
                  | Quản lý sản phẩm 
              if(role.permissions.includes("products-category_view"))
                li.nav-item
                  a.nav-link(href="/admin/breeds")
                    i.bi.bi-tags.me-2 
                    | Quản lý danh mục 
              if(role.permissions.includes("account_view"))
                li.nav-item
                  a.nav-link(href="/admin/accounts")
                    i.bi.bi-person-lines-fill.me-2 
                    | Quản lý tài khoản
              if(role.permissions.includes("role_view"))
                li.nav-item
                  a.nav-link(href="/admin/roles")
                    i.bi.bi-shield-lock.me-2 
                    | Quản lý nhóm quyền
              if(role.permissions.includes("permission_view"))
                li.nav-item
                  a.nav-link(href="/admin/roles/permissions")
                    i.bi.bi-check2-square.me-2 
                    | Quản lý phân quyền
              if(role.permissions.includes("user_view"))
                li.nav-item
                  a.nav-link(href="/admin/orders")
                    ii.bi.bi-receipt.me-2
                    | Quản lý đơn hàng 
              if(role.permissions.includes("user_view"))
                li.nav-item
                    a.nav-link(href="/admin/users")
                      i.bi.bi-people.me-2 
                      | Quản lý người dùng
              if(role.permissions.includes("services_view"))
                li.nav-item
                    a.nav-link(href="/admin/services")
                      i.bi.bi-headset
                      | Quản lý Dịch vụ 
                
          // Main content
          main.col-md-9.col-lg-10.p-4
            block main

      // Footer
      include ../partial/footer.pug

    else 
      .container.text-center.mt-5
        .alert.alert-danger
          strong Bạn không có quyền truy cập vào trang này.

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js", integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO", crossorigin="anonymous")
    script(src="/admin/js/scripts.js")
    script(src="/admin/js/role.js")
    script(src="/js/main.js")
