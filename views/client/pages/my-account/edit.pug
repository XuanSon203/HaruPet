extends ../../layout/layoutdefault.pug

block main
  .container.mt-5
    h2 Chỉnh sửa thông tin cá nhân
    
    form(method="POST", action=`/my-account/edit/${user._id}?_method=PATCH`, class="mt-4", enctype="multipart/form-data")
    

      if user.avatar
        .mb-3
          label.form-label Ảnh đại diện hiện tại:
          br
          img(src=user.avatar, alt="Avatar", width="100", height="100", class="rounded-circle border")

      .mb-3
                div( class="form-group" upload-image)
                    label.form-label(for="avatar") Ảnh sản phẩm (URL):
                    input.form-control(type="file" name="avatar" accept="image/*" upload-image-input)
                    img(src="", alt="" upload-image-preview style=" width: 150px; margin-top: 10px;")
                    button.btn.btn-danger.mt-2(type="button" upload-image-remove) Xóa ảnh


      .mb-3
        label.form-label(for="fullName") Họ và tên
        input.form-control(type="text", id="fullName", name="fullName", required, value=user.fullName)

      .mb-3
        label.form-label(for="email") Email
        input.form-control(type="email", id="email", name="email", required, value=user.email)

      .mb-3
        label.form-label(for="phone") Số điện thoại
        input.form-control(type="text", id="phone", name="phone", required, value=user.phone)
      .mb-3
        label.form-label(for="address") Địa chỉ 
        input.form-control(type="text", id="address", name="address", required, value=user.address)

      button.btn.btn-success(type="submit") Cập nhật
